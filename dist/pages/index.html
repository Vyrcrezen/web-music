<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webshop</title>
    <link rel="icon" type="image/x-icon" href="./favicon.ico">

    <script language="javascript" src="/bootstrap/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" />

    <script src="./fetchMusicCards.js" defer></script>
</head>

<body>
    <h1>Welcome to the webshop!</h1>
    <section class="m-4" style="display: flex; flex-direction: row">
        <div style="display: flex; flex-direction: column; border: 1px solid black; width: fit-content; padding: 10px;">
            <h2>Fetch articles here!</h2>
            <button id="fetch-articles-button" type="button"
                style="margin: 0 auto; justify-content: center;">Fetch</button>
        </div>
        <div id="mcard-container" class="d-flex flew-direction-row flex-wrap"
            style="border: 1px solid black; width: fit-content; padding: 10px;">
        </div>
    </section>

    <section class="d-flex flex-column m-4" style="width: fit-content; border: 1px solid black;">
        <div class="d-flex flex-row">
            <div class="d-flex flex-column align-self-end justify-content-center m-5">
                <form id="user-reg-form" class="d-flex flex-column" style="width: 20rem;" action="/user/register" method="post">
                    <input type="text" name="username" placeholder="username" id="user-reg-form-username">
                    <input type="password" name="password" placeholder="password" id="user-reg-form-password">
                    <input type="email" name="email" placeholder="email" id="user-reg-form-email">
                    <button type="submit">Register</button>
                </form>
            </div>
            <div class="d-flex flex-column align-self-end m-5">
                <h5 id="user-login-text">Login here</h3>
                <form id="user-login-form" class="d-flex flex-column" style="width: 20rem;" action="/user/login" method="post">
                    <input type="text" name="username" placeholder="username" id="user-login-form-username">
                    <input type="password" name="password" placeholder="password" id="user-login-form-password">
                    <button type="submit">Login</button>
                </form>
            </div>
            <div class="d-flex flex-column align-self-end m-5">
                <form id="user-logout-form" class="d-flex flex-column" style="width: 20rem;" action="/user/logout" method="post">
                    <button type="submit">Logout</button>
                </form>
            </div>
        </div>

        <div class="d-flex flex-column align-items-center mt-5">
            <h5 id="login-test-text">Please click this button as soon as you are able!</h3>
            <button id="login-test-btn" class="my-2 py-1 px-3" type="button">It's me</button>
        </div>
    </section>

    <section class="d-flex flex-column m-4" style="width: fit-content; border: 1px solid black;">
        <form id="music-upload-form" action="/music/upload" class="d-flex flex-column">
            <div class="d-flex flex-row">
                <div>
                    <div class="d-flex flex-column align-items-center">
                        <h6>Cover image</h6>
                        <img id="music-upload-cover-image" src="" alt="" style="width: 10rem; height: 10rem;" >
                        <input type="file" name="cover-image" id="music-upload-cover-input" required>
                    </div>
                    <hr>
                    <div class="d-flex flex-column align-items-center">
                        <h6>Music file</h6>
                        <audio id="music-upload-music-audio" controls>
                            <!-- <source id="music-upload-music-audio-source" src="" type="audio/mpeg" >
                            Your browser does not support the audio element. -->
                        </audio>
                        <input type="file" name="cover-image" id="music-upload-music-input" required>
                    </div>
                </div>
                <div class="container" style="width: 26rem;">
                    <div class="row m-1">
                        <span class="col-4">Title*: </span>
                        <input class="col-8" type="text" name="music-upload-music-title" id="music-upload-music-title" required>
                    </div>
                    <div class="row m-1">
                        <span class="col-4">Link*: </span>
                        <input class="col-8" type="text" name="music-upload-music-link" id="music-upload-music-link" required>
                    </div>
                    <div class="row m-1">
                        <span class="col-4">Artist*: </span>
                        <input class="col-8" type="text" name="music-upload-music-artist" id="music-upload-music-artist" required>
                    </div>
                    <div class="row m-1">
                        <span class="col-4">Tags*: </span>
                        <input class="col-8" type="text" name="music-upload-music-tags" id="music-upload-music-tags" required>
                    </div>
                    <div class="row m-1">
                        <span class="col-4">Album: </span>
                        <input class="col-8" type="text" name="music-upload-music-album" id="music-upload-music-album">
                    </div>
                    <div class="row m-1">
                        <span class="col-4">Record Label: </span>
                        <input class="col-8" type="text" name="music-upload-music-label" id="music-upload-music-label">
                    </div>
                    <div class="row m-1">
                        <span class="col-4">Publisher: </span>
                        <input class="col-8" type="text" name="music-upload-music-publisher" id="music-upload-music-publisher">
                    </div>
                    <div class="row m-1">
                        <span class="col-4">Price: </span>
                        <div class="col-8 p-0 d-flex flex-row">
                            <input class="w-75" type="number" name="music-upload-music-price-amount" id="music-upload-price-amount">
                            <select name="music-upload-music-price-currency" id="music-upload-music-price-currency">
                                <option value="HUF">HUF</option>
                                <option value="EUR">EUR</option>
                                <option value="USD">USD</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
            <button class="align-self-center p-2 mt-1 mb-3" type="submit">Upload music</button>
        </form>
    </section>

    <template id="mcard-template">
        <div class="m-3">
            <div class="card justify-content-center p-2"
                style="height: fit-content; width: 318px; background-color: rgb(236, 236, 227);">
                <div id="mcard-template-img-container" class="align-self-center rounded"
                    style="background-image: url(./1656711661616/cover.jpg); background-position: center; background-size: cover; width: 300px; height: 300px;">
                    <div id="mcard-template-label" class="rounded p-2"
                        style="background-color: rgba(202, 202, 202, 0.5);">
                        <h5 id="mcard-template-title" class="text-center">title</h5>
                        <h6 id="mcard-template-author" class="card-title text-end mb-0 me-3">author</h6>
                    </div>
                </div>
                <audio id="mcard-template-audio" class="align-self-center" loop controls>
                    <source id="mcard-template-audio-source" src="./1656711661616/music.mp3" type="audio/mpeg" >
                    Your browser does not support the audio element.
                </audio>
                <div id="mcard-template-tags" class="card-body" style="height: 96px; overflow: auto">
                    tags:
                    <span class="rounded-pill py-1 px-2" style="background-color: #bec4a8;">Electronic</span>
                    <span class="rounded-pill py-1 px-2" style="background-color: #bec4a8;">Chill</span>
                </div>
                <div class="card-footer d-flex justify-content-between align-items-center">
                    <p class="card-text m-0"><a id="mcard-template-source"
                            href="https://soundcloud.com/argofox/phlex-light-me-up" target="_blank">Source</a></p>
                    <button class="btn p-1"><img src="./svg/heart-empty.svg" alt=""></button>
                </div>
            </div>
        </div>
    </template>
    
    <template id="mcard-tag-template">
        <div>
            <button id="mcard-tag-template-button" type="button" class="rounded-pill border-0 m-1 py-1 px-2" style="background-color: #bec4a8;">
                Tag
            </button>
        </div>
    </template>

</body>

</html>